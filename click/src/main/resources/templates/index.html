<!doctype html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Demo</title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width"/>
<!--    <base href="/"/>-->
<!--    <link rel="stylesheet" type="text/css"-->
<!--          href="/webjars/bootstrap/css/bootstrap.min.css"/>-->
<!--    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>-->
<!--    <script type="text/javascript"-->
<!--            src="/webjars/bootstrap/js/bootstrap.min.js"></script>-->
</head>
<body>

<div sec:authorize="isAuthenticated()">
    <div class="columns">
        <div class="column">
            Logged inn
        </div>
    </div>
</div>

<h1>Login</h1>
<div class="container unauthenticated">
    With GitHub: <a th:href="@{/oauth2/authorization/github}">click here</a>
</div>
<div class="container unauthenticated">
    With GitHub: <a href="/ochart/oauth2/authorization/azure">click here</a>
</div>
<div class="container authenticated" style="display: none">
    Logged in as: <span id="user"></span>
</div>
<script type="text/javascript">
    $.get("/user", function (data) {
        $("#user").html(data.name);
        $(".unauthenticated").hide()
        $(".authenticated").show()
    });
</script>
</body>
</html>


<!--<!DOCTYPE html>-->
<!--<html lang="en"  xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">-->

<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Home</title>-->
<!--    <link rel="stylesheet" th:href="@{/webjars/bulma/0.9.0/css/bulma.min.css}" />-->
<!--</head>-->

<!--<body>-->
<!--<div class="container is-fluid" style="padding-top:3rem">-->
<!--    <div class="columns">-->
<!--        <h3 class="title">Spring boot oauth2 sample application with AADC.</h3>-->
<!--    </div>-->

<!--    <div sec:authorize="isAuthenticated()">-->
<!--        <div class="columns">-->
<!--            <div class="column">-->
<!--                Logged inn-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="columns">-->
<!--            <div class="column">-->
<!--                Hi <span th:text="${#authentication.name}"></span> san!-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="columns">-->
<!--            <div class="column is-2">-->
<!--                <a href="/logout" class="button is-info">Logout (GET)</a>-->
<!--            </div>-->
<!--            <div class="column is-2">-->
<!--                <form th:action="@{/logout}" method="post">-->
<!--                    <button class="button is-primary" type="submit">Logout (POST)</button>-->
<!--                </form>-->
<!--            </div>-->

<!--            <logout/>-->
<!--        </div>-->

<!--    </div>-->

<!--    <div class="columns">-->
<!--        <div class="column">-->
<!--            <div sec:authorize="isAnonymous()">-->
<!--                <div class="controll">-->
<!--                    <a class="button is-primary" href="/login">Login</a>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--</body>-->

